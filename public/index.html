<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://unpkg.com/axios@0.24.0/dist/axios.min.js"></script>
    <script src="https://unpkg.com/qs@6.10.2/dist/qs.js"></script>
</head>

<body>
    <input id="fileInput" type="file" multiple />

    <script>
        async function urlParam() {

            // get: id
            // const res = await axios.get('/api/person/1');


            // get: query
            // const res = await axios.get('/api/person/find', {
            //     params: {
            //         name: '杰',
            //         age: 24
            //     }
            // });

            // post ulencoded
            // const res = await axios.post('/api/person', Qs.stringify({
            //     params: {
            //         name: '杰',
            //         age: 24
            //     }
            // }), {
            //     headers: {
            //         'content-type': 'application/x-www-form-urlencoded'
            //     }
            // });

            // post `application/json`
            // const res = await axios.post('/api/person', {
            //     name: '杰',
            //     age: 24
            // });


            console.log(res);
        }
        urlParam();

        const fileInput = document.querySelector('#fileInput');

        async function formData() {
            const data = new FormData();
            data.set('name', '杰');
            data.set('age', 20);
            data.set('file1', fileInput.files[0]);
            data.set('file2', fileInput.files[1]);

            const res = await axios.post('/api/person/file', data, {
                headers: {
                    'content-type': 'multipart/form-data'
                }
            });
            console.log(res);
        }
        fileInput.onchange = formData;
    </script>
</body>